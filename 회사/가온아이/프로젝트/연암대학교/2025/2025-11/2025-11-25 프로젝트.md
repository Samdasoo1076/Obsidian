#2025-11-25 #2025-11 #2025- 
#회사 #프로젝트 #연암대학교


------
# 링크 
[[2025-11-25 회사]]

---
## To Day 할 일
- [ ] 일정포틀릿(월 데이터 목록 모두 조회) 개발
- [x] 사용자 / PC / 환경설정 메뉴 정리
---
## 회의 메모
- 
---
## 오늘 배운 것
1. 오전
    1. 
2. 오후
    1. 
---
## 메모

```
간단히 구조를 파악하고, 데이터 흐름과 확장 포인트까지 정리했습니다.
                                                                                                                                                                                                                           
  개요                                                                                                                                                                                                                     

  - 일정 포틀릿은 컨트롤러에서 ViewBag만 구성하고, 뷰(+JS)가 AJAX로 일정 데이터를 가져와 렌더링하는 구조입니다.                                                                                                            
  - 두 가지 뷰를 제공: 일자 리스트 포틀릿과 월 달력 포틀릿.                                                                                                                                                                
      - 일자 리스트: Schedule_Portlet (일자 선택 시 당일 일정 목록)                                                                                                                                                        
      - 월 달력: ScheduleMonth_Portlet (월 단위 프리패치+캐시)                                                                                                                                                             
                                                                                                                                                                                                                           
  핵심 파일                                                                                                                                                                                                                
                                                                                                                                                                                                                           
  - 컨트롤러 액션                                                                                                                                                                                                          
      - 일정(일자) 포틀릿: Kaoni.ezStandard.Web.ezEKP.Core/Areas/ezPortal/Controllers/PortletController.cs:305                                                                                                             
      - 월 달력 포틀릿: Kaoni.ezStandard.Web.ezEKP.Core/Areas/ezPortal/Controllers/PortletController.cs:344                                                                                                                
      - 주간 포틀릿: Kaoni.ezStandard.Web.ezEKP.Core/Areas/ezPortal/Controllers/PortletController.cs:561                                                                                                                   
  - 포틀릿 뷰                                                                                                                                                                                                              
      - 일자 포틀릿: Kaoni.ezStandard.Web.ezEKP.Core/Areas/ezPortal/Views/Portlet/Schedule_Portlet.cshtml:111                                                                                                              
      - 월 포틀릿: Kaoni.ezStandard.Web.ezEKP.Core/Areas/ezPortal/Views/Portlet/ScheduleMonth_Portlet.cshtml:195                                                                                                           
  - 달력/도트 UI JS                                                                                                                                                                                                        
      - 달력 생성: Kaoni.ezStandard.Web.ezEKP.Core/wwwroot/myoffice/ezSchedule/Calendar/CalendarMini_Portlet.js:23                                                                                                         
      - 달력 데이터 로드(월 범위, ALL_PORTLET): Kaoni.ezStandard.Web.ezEKP.Core/wwwroot/myoffice/ezSchedule/Calendar/CalendarMini_Portlet.js:302,314                                                                       
      - 일 클릭 핸들러: Kaoni.ezStandard.Web.ezEKP.Core/wwwroot/myoffice/ezSchedule/Calendar/CalendarMini_Portlet.js:284                                                                                                   
      - 일자 도트 표시: Kaoni.ezStandard.Web.ezEKP.Core/wwwroot/myoffice/ezSchedule/Calendar/CalendarMini_Portlet.js:398                                                                                                   
  - 데이터 API (서버)                                                                                                                                                                                                      
      - 달력용 월간 리스트: Kaoni.ezStandard.Web.ezEKP.Core/Areas/ezSchedule/Controllers/RemoteController.cs: ScheduleGetList                                                                                              
      - 포틀릿 당일 목록: Kaoni.ezStandard.Web.ezEKP.Core/Areas/ezSchedule/Controllers/RemoteController.cs:656                                                                                                             
      - 포틀릿 데이터 조합: Kaoni.ezStandard.Web.ezEKP.Core/Areas/ezSchedule/Services/ezScheduleRemoteService.cs:5541                                                                                                      
      - 포틀릿 모드별 조합 로직: Kaoni.ezStandard.Web.ezEKP.Core/Areas/ezSchedule/Services/ezScheduleRemoteService.cs:5642                                                                                                 

  데이터 흐름                                                                                                                                                                                                              
                                                                                                                                                                                                                           
      - 서버 ScheduleGetList가 개인/부서/회사/사업장/그룹/임원/구글 일정 등 취합해 <DATA><ROW>... 반환
      - JS가 날짜 셀에 도트(유형별 클래스) 표시
  - 일자 선택 시
      - 일자 포틀릿: getScheduleList(date,"ALL") → /ezSchedule/remote/WebPartList 호출 → 당일 일정만 정렬해 리스트 렌더
      - 월 포틀릿: 먼저 월 캐시에서 당일 ROW를 추출해 즉시 렌더, 필요시 WebPartList 호출 보완
  포틀릿 모드와 일정 유형

  - 클라이언트 포틀릿 모드: “ALL”, “G”(그룹), “B”(사업장), “D”(부서), “A”(추가), “C”(회사), “E”(임원)
  - 일정 유형 도트 매핑: 1 개인, 2 부서, 3 회사, 7 그룹, 8 휴일, 11 임원, 14 추가, 15 카페 (도트 중복 방지)
      - 매핑 코드: Kaoni.ezStandard.Web.ezEKP.Core/wwwroot/myoffice/ezSchedule/Calendar/CalendarMini_Portlet.js:398
  - ALL_PORTLET 또는 포틀릿 모드에 따라 퍼스널/부서/회사/사업장/그룹/임원/추가/구글 등 소스 통합
  - Exchange/Graph 연동: Use_Exchange_Pims, Use_Exchange_Pims_ALL 구성에 따라 ESB(EWS)/Graph 또는 DB 조회 혼용
  - WebPartList는 당일범위만 필터 후 정렬하여 반환
      - 시작/종료 시각 로컬/UTC 보정, DATETYPE=2(종일) 처리 포함
```

# ## Next Day 해야할 일
1. 
