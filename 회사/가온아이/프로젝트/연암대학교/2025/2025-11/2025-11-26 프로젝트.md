#2025-11-26 #2025-11 #2025- 
#회사 #프로젝트 #연암대학교


------
# 링크 
[[2025-11-26 회사]]

---
## To Day 할 일
- [x] 일정 포틀릿(월 단위 데이터 조회) 개발
- [x] 작성화면에 첨부에 보면 원드라이브 버튼 안보이게 처리 
    - [x] 메일, 
    - [x] 게시판, 
    - [x] 자원, 
    - [x] 일정, 
    - [ ] 카페
    - [x] 전자결재는 원드라이브 없는데 나머지 솔루션 모두 확인 필요
---
## 회의 메모
- 
---
## 오늘 배운 것
1. 오전
    1. 
2. 오후
    1. 
---
## 메모
![[Pasted image 20251126102647.png]]

```
# Schedule Portlet Notes

## What it is
- Portlet UIs showing schedule counts and list views (mini calendar, weekly view).
- Uses ezSchedule remote endpoints for data; Exchange/Graph or DB behind the scenes.

## Key client pieces
- `Areas/ezPortal/Views/Portlet/Count_Portlet.cshtml`
  - Calls `/ezSchedule/remote/GetPortletScheduleCount?type=ALL`.
  - Displays `<ROW>` count as the number badge.
- `Areas/ezPortal/Views/Portlet/Schedule_Portlet.cshtml`
  - Mini calendar + list.
  - On load: posts to `/ezSchedule/remote/WebPartList` with `pSelectDate`, `MODE` (default ALL), `TYPE=MINI`.
  - Merges holidays (`fc_holidayData`) into the response; clicking an item opens `ScheduleRead` popup (`open=PORTLET`).
- `Areas/ezPortal/Views/Portlet/WeekSchedule_Portlet.cshtml`
  - Weekly grid. Calls `/ezPortal/PortletAspx/GetWeekPortletScheduleList?selectdate=yyyy-MM-dd`.
  - Renders holiday markers and schedules; item click opens `ScheduleRead` popup.

## Key server pieces
- `Areas/ezSchedule/Controllers/RemoteController.cs`
  - `GetPortletScheduleCount(type)`: builds today XML and calls `ezScheduleRemoteService.WebPartList`.
- `Areas/ezSchedule/Services/ezScheduleRemoteService.cs`
  - `WebPartList`: creates `<DATA>` for the day, then `GetWebpartScheduleList`.
  - `GetWebpartScheduleList`: aggregates personal/department/company/common/workplace/group/executive schedules.
    - If `Use_Exchange_Pims == YES`: pulls via Exchange/Graph (`ScheduleList_GscOrEsb_Proxy`), otherwise DB (`GetScheduleList_DB`).
    - Sorts by `STARTDATE`, then `SCHEDULETYPE`.
  - Honors system config for login ID type, domain (`PrimaryAddressDomain`), Exchange usage, etc.
- Weekly portlet backend: `Areas/ezPortal/Services/ezPortalPortletAspxService.cs`
  - `GetWeekPortletScheduleList`: computes week range via `STARTDAY` (from `ScheduleInfo.GetConfigInfo(...)`, default 7), calls `ScheduleGetList` for schedules and `ezScheduleAdminRemoteService.GetHoliday` for holidays, returns JSON.

## Behaviors / notes
- `MODE` parameter controls scope (ALL, etc.); count portlet uses ALL; mini calendar default ALL; weekly uses `IDLIST=T` in its request.
- Date handling: daily portlet uses start/end of day; weekly uses `TimeHelper.GetDBTime(..., offset)` for user offset.
- Holiday handling: mini calendar merges client-side `fc_holidayData`; weekly gets holidays from server JSON.

## Quick pointers
- Count badge path: Count_Portlet → `GetPortletScheduleCount` (controller) → `WebPartList` → `GetWebpartScheduleList`.
- Mini calendar path: Schedule_Portlet JS → `/ezSchedule/remote/WebPartList` → `GetWebpartScheduleList`.
- Weekly path: WeekSchedule_Portlet JS → `/ezPortal/PortletAspx/GetWeekPortletScheduleList` → `GetWeekPortletScheduleList` → `ScheduleGetList` + `GetHoliday`.

```
# ## Next Day 해야할 일
1. 
